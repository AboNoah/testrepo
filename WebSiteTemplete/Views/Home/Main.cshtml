@model IEnumerable<WebSiteTemplete.Models.PageDetails>
@using WebSiteTemplete.Resources
@{
    ViewBag.Title = "Main";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}
<style>

    /*
    img {
        display: block;
    }

    .thumbnail {
        position: relative;
        display: inline-block;
    }*/

    .caption {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate( -50%, -50% );
        text-align: center;
        color: white;
        font-weight: bold;
        width: 200% !important;
        height: 100% !important;
        padding: 50%;
        background-color: #00adb540;
    }
</style>

<div class="col-12" id="main-fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark  py-3" style="background: var(--main-color);">
        <div class="container" style="direction: ltr;">
            <a class="navbar-brand p-0" href="index" style="color:var(--second-color);">
                <img src="~/images/logo.png" style="width: 60px;">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse  navbar-collapse py-4 py-md-0" id="navbarSupportedContent">
                <ul class="navbar-nav ms-md-auto mb-2 mb-lg-0 px-0" style="direction:rtl">
                    
                    @foreach (var urlpages in ViewBag.PageInfolist)
                    {                        
                        <li >
                           
                            <a class="nav-link active" aria-current="page" href="/Home/Main/@urlpages.PageName">@urlpages.PageAName</a>
                        </li>
                    }
                </ul>
            </div>
        </div>
        </nav>
</div>



@{ var b = ViewBag.PageInfo;}

@foreach (var pageinfo in ViewBag.ContentInfo)
{
    if (pageinfo.PageID == b)
    {
        <div class="col-12 p-0" id="fixing-margin-top"></div>
        foreach (var item1 in ViewBag.ContentInfo)
        {
            if (item1.ContentName == "header" && item1.PageID == ViewBag.PageInfo)
                                {
                                    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">

                                        <div class="carousel-indicators container mx-auto">
                                            @{var a1 = 0; }
                                            @foreach (var item in Model)
                                            {
                                                @*<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                                                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"></button>
                                                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="4" aria-label="Slide 5"></button>*@
                                                if (item.ContentID == 1)
                                                {
                                                    if (item.MediaSubTypes.MediaTypeID == 1 && item.PageID == b)
                                                    {
                                                        if (a1 == 0)
                                                        {
                                                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 0"></button>
                                                            a1++;
                                                        }
                                                        else
                                                        {
                                                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="@a1" aria-label="Slide @a1"></button>
                                                            a1++;
                                                        }
                                                    }
                                                }
                                            }
                                        </div>
                                        <div class="carousel-inner">
                                            @*<div class="carousel-item active">
                                                    <img src="#" data-delayedsrc="/images/sliders/bank_alqutaibi_slider_1.jpg" style="max-height: 800px;" class="d-block w-100" style="max-height: 800px;">
                                                </div>*@
                                            @{var a = 1; }
                                            @foreach (var item in Model)
                                            {
                                                if (item.ContentID == 1)
                                                {
                                                    if (item.MediaSubTypes.MediaTypeID == 1 && item.PageID == b)
                                                    {
                                                        if (a == 1)
                                                        {
                                                            <div class="carousel-item active">

                                                                <img src="~/UploadFiles/@item.MediaSubTypes.url" class="thumbnail d-block w-100" style="max-height: 500px;" />
                                                                <div class="caption">
                                                                    <h1>@item.Titles.TitleName</h1>
                                                                    <div>
                                                                        @item.ParaGraphes.ParaGrapheName
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            a++;
                                                        }
                                                        else
                                                        {
                                                            <div class="carousel-item ">
                                                                <img src="~/UploadFiles/@item.MediaSubTypes.url"
                                                                     class="thumbnail d-block w-100" style="max-height: 500px;" />
                                                                <div class="caption">
                                                                    <h1>@item.Titles.TitleName</h1>
                                                                    <div>
                                                                        @item.ParaGraphes.ParaGrapheName
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }
                                                    }
                                                    else if (item.MediaSubTypes.MediaTypeID == 2)
                                                    {
                                                        <video controls style="max-height: 800px;" autoplay="autoplay" muted class="thumbnail d-block w-100">
                                                            <source src="~/UploadFiles/@item.MediaSubTypes.url" type="video/mp4">
                                                            <source src="~/UploadFiles/@item.MediaSubTypes.url )" type="video/ogg">
                                                        </video>
                                                    }

                                                }
                                            }
                                        </div>

                                        <div class="col-12 container">
                                            <button class="carousel-control-prev container" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                                                <span class="fas fa-chevron-circle-left font-8 rounded-circle" style="color:var(--main-color);background: var(--second-color);"></span>
                                                <!-- <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                <span class="visually-hidden"></span> -->
                                            </button>
                                            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                                                <!-- <span class="carousel-control-next-icon" aria-hidden="true">
                                                  <span class=""></span>
                                                </span>
                                                <span class="visually-hidden">Next</span> -->
                                                <span class="fas fa-chevron-circle-right font-8 rounded-circle" style="color:var(--main-color);background: var(--second-color);"></span>
                                            </button>
                                        </div>
                                    </div>
                                                }


            else if (item1.ContentName == "Card" && item1.PageID == ViewBag.PageInfo)
                                                {
                                    <div class="col-12 py-5 ">
                                        <div class="container p-2">
                                            <div class="col-12 px-0 text-center">
                                                <div style="position: absolute; left: 50%;z-index: -1;">
                                                    <div style="position: relative; left: -50%;width: 150px;height: 30px;background: #f3f7e0;"></div>
                                                </div>
                                                <h2 style="color:var(--main-color);font-weight: bold;">أبرز الصور</h2>
                                            </div>
                                            <div class="owl-carousel owl-carousel-3 pt-5" style="direction:ltr">

                                                @foreach (var item in Model)
                                                {
                                                    if (item.ContentID == 10)
                                                    {
                                                        if (item.MediaSubTypes.MediaTypeID == 3 && item.PageID == b)
                                                        {
                                                            <div style="direction:rtl" data-aos="fade-up">
                                                                <div class="col-12 p-3 d-flex justify-content-center">
                                                                    <img src="~/UploadFiles/@item.MediaSubTypes.url" class="thumbnail d-block w-100" style="width: 400px;max-width: 100%;border-radius: 15px;" />
                                                                </div>
                                                            </div>
                                                        }
                                                    }
                                                }

                                            </div>
                                        </div>
                                    </div>
                                                }

         
            else if (item1.ContentName == "Paragraph" && item1.PageID == ViewBag.PageInfo)
                                                {
                                                    <div class="col-12 py-5 " style="left: 0 !important; right: auto !important; background-size: cover !important; background-position-x: 32%; height: 600px;display: flex;justify-content: center;align-content: center;align-items: center;">
                                                        <div class="container px-2 py-5">
                                                            <div class="col-12 col-md-6 col-sm-12 col-lg-12 px-2 text-center">
                                                                <div class="owl-carousel owl-carousel-3 pt-5" style="direction:ltr">
                                                                    @foreach (var item in Model)
                                                                    {
                                                                        if (item.MediaSubTypeID == null && item.ParaGraphesID != null && item.TitleID != null && item.PageID == b)
                                                                        {
                                                                            <div style="direction:rtl" data-aos="fade-up">
                                                                                <div class="col-12 p-3 d-flex justify-content-center">
                                                                                    <h2 id="g_@Html.Raw(item.ID)" style="text-align: right; color:var(--second-color);">
                                                                                        @Html.DisplayFor(modelItem => item.Titles.TitleName)
                                                                                    </h2>
                                                                                    <p id="g_@Html.Raw(item.ID)" style="text-align: right; color:#808080 ;">
                                                                                        @Html.DisplayFor(modelItem => item.ParaGraphes.ParaGrapheName)
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                        }
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }

        }
        b = 0;
    }
}


<div class="col-12 py-0 " style="background:#fff;">
    <div class="container px-2 pt-5">
        <div class="col-12 px-0 text-center">
            <div style="position: absolute; left: 50%;z-index: 0;">
                <div style="position: relative; left: -50%;width: 200px;height: 30px;background: #ccd0b3;"></div>
            </div>
            <h2 style="color:var(--second-color);font-weight: bold;position: relative;z-index: 1;">الوكالات العالمية</h2>
        </div>
        <div class="owl-carousel owl-carousel-4 pt-1" style="direction:ltr">
            <div style="direction:rtl" data-aos="fade-up">
                <div class="col-12 p-5 d-flex justify-content-center">
                    <img src="#" data-delayedsrc="/images/agency_logo/engaz.png" style="width:100%;border-radius:inherit;height: 100%;" class="rounded">
                </div>
            </div>
            <div style="direction:rtl" data-aos="fade-up">
                <div class="col-12 p-5 d-flex justify-content-center">
                    <img src="#" data-delayedsrc="/images/agency_logo/ersal_logo.png" style="width:100%;border-radius:inherit;height: 100%;" class="rounded">
                </div>
            </div>

            <div style="direction:rtl" data-aos="fade-up">
                <div class="col-12 p-5 d-flex justify-content-center">
                    <img src="#" data-delayedsrc="/images/agency_logo/quick_pay.png" style="width:100%;border-radius:inherit;height: 100%;" class="rounded">
                </div>
            </div>

        </div>
    </div>
</div>
